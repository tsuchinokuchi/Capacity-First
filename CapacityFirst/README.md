# タスク管理テンプレート インストールガイド

このテンプレートを使用していただきありがとうございます。
このシステムをあなたのObsidian環境で動作させるための手順を説明します。

## 1. 必須プラグインの導入

このテンプレートは、Obsidianのコミュニティプラグインを使用して動作します。
「設定 > コミュニティプラグイン」から以下のプラグインを検索し、インストール・有効化してください。

| プラグイン名 | 必須 | 用途 |
| :--- | :---: | :--- |
| **Dataview** | ✅ | ダッシュボード表示、データ集計に必須です。 |
| **QuickAdd** | ✅ | ボタン動作、タスク自動化スクリプトの実行に必須です。 |
| **Buttons** | ✅ | 画面上の「タスク追加」などのボタンを表示するために必要です。 |
| **Tasks** | (推奨) | チェックボックスの操作性を向上させたい場合に推奨します。 |

## 2. プラグインの設定

### Dataview の設定
1.  設定画面から `Dataview` を開きます。
2.  **Enable JavaScript Queries** を **ON** にします（必須）。
3.  **Enable Inline JavaScript Queries** を **ON** にします（必須）。
    *   *注意: これらを有効にしないと、スクリプトが動かず画面がエラーになります。*

### QuickAdd の設定

QuickAddには、タスク管理用の「マクロ」を登録する必要があります。
あなたの状況に合わせて、AまたはBの方法を選んでください。

#### 【A】 QuickAddを初めて使う方（簡単）
同梱の `quickadd_settings.json` を使用して、設定を一括インポートします。
*注意: 既存のQuickAdd設定がある場合、この操作で上書きされて消えてしまうので、【B】を選んでください。*

1.  Obsidianを終了します。
2.  あなたのボールトフォルダ内の `.obsidian/plugins/quickadd/` フォルダを開きます。
3.  `data.json` というファイルがあればバックアップを取った上で、同梱の `quickadd_settings.json` を `data.json` にリネームして上書きします。
4.  Obsidianを起動します。

#### 【B】 すでにQuickAddを使っている方（手動設定）
設定画面から `QuickAdd` を開き、以下の手順でマクロを一つずつ登録してください。

**登録手順:**
1.  `Manage Macros` ボタンを押します。
2.  `Add macro` 欄に **マクロ名** を入力して `Add` します。
3.  追加されたマクロの `Configure` ボタンを押します。
4.  `User Scripts` 欄から、対応するスクリプトファイルを選択して `Add` します。
5.  トップページに戻り、`Choices` 欄に同じ名前を入力し、タイプを `Macro` にして `Add Choice` します。
6.  追加されたChoiceの `⚙️`（設定）を押し、先ほど作ったマクロを紐付けます。

**登録リスト:**

| マクロ名 / Choice名 | 対応スクリプトファイル |
| :--- | :--- |
| **タスク追加** | `scripts/タスク追加.js` |
| **タスク移動** | `scripts/タスク移動.js` |
| **タスク削除** | `scripts/タスク削除.js` |
| **タスク完了** | `scripts/タスク完了.js` |
| **タスクプールからスケジュールに移動** | `scripts/タスクプールからスケジュールに移動.js` |
| **繰り返しタスク展開** | `scripts/繰り返しタスク展開.js` |
| **容量チェック** | `scripts/容量チェック.js` |
| **プロジェクト作成** | `scripts/プロジェクト作成.js` |
| **サブタスク追加** | `scripts/サブタスク追加.js` |
| **サブタスク展開** | `scripts/サブタスク展開.js` |
| **進捗更新** | `scripts/進捗更新.js` |

## 3. ファイルの配置

ダウンロードした以下のフォルダ/ファイルを、**あなたのボールトのルート（一番上の階層）にコピーしてください。**
※ `scripts` フォルダがルートにないと、スクリプトが正しく動作しません。

*   `scripts/` （フォルダごと） → ボールト直下へ
*   `テンプレート/` （フォルダごと） → ボールト直下へ
*   `config/` （フォルダごと） → ボールト直下へ
*   `タスク管理ダッシュボード.md`
*   `スケジュールテンプレート.md`
*   `ジャンル設定.md`
*   `週勤務グリッド.md`

※ `scripts/config.js` を開いて、フォルダパス設定などを環境に合わせて変更することも可能です（通常はそのままで動きます）。

---
セットアップは以上です。
`タスク管理ダッシュボード.md` を開いて、画面が表示されれば成功です！

## (上級者向け) フォルダ構成のカスタマイズ

もし `CapacityFirst` というフォルダ名を変更したい場合や、構成を変えたい場合は、設定ファイルの変更が必要です。

1.  `scripts/config.js` を開きます。
2.  `BASE_PATH` の値を、あなたの変更したフォルダ名に合わせて書き換えてください。

```javascript
// 例: フォルダ名を "MyTaskSystem" に変えた場合
const BASE_PATH = "MyTaskSystem";
```

※ 正しく設定しないと、スクリプトがファイルを見つけられずにエラーになります。
