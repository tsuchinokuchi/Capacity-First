# Phase 2: QuickAdd設定手順

## 1. QuickAddのMacro設定

### ステップ1: Macro Managerを開く
1. Obsidianの設定（⚙️）を開く
2. 左メニューから「QuickAdd」を選択
3. 「Macro Manager」タブを開く

### ステップ2: 「タスク追加」Macroを作成
1. 「Add Macro」ボタンをクリック
2. Macro名を「タスク追加」と入力
3. 「Add Choice」をクリック
4. 以下の設定を行う：
   - **Name**: 「タスク追加」
   - **Type**: 「Macro」を選択
   - **Macro**: 「新規作成」をクリック
   - コードエディタが開いたら、`QuickAdd Macros/タスク追加.js`の内容をコピー&ペースト
   - 「Save」をクリック

### ステップ3: 「タスク移動」Macroを作成
1. 同様に「Add Macro」ボタンをクリック
2. Macro名を「タスク移動」と入力
3. 「Add Choice」をクリック
4. 以下の設定を行う：
   - **Name**: 「タスク移動」
   - **Type**: 「Macro」を選択
   - **Macro**: 「新規作成」をクリック
   - コードエディタが開いたら、`QuickAdd Macros/タスク移動.js`の内容をコピー&ペースト
   - 「Save」をクリック

## 2. Choiceの設定

### 「タスク追加」Choiceの設定
1. QuickAddの設定画面で「Choices」タブを開く
2. 「Add Choice」をクリック
3. 以下の設定を行う：
   - **Name**: 「タスク追加」
   - **Type**: 「Macro」を選択
   - **Macro**: 「タスク追加」を選択
   - **Hotkey** (任意): 使用したいキーボードショートカットを設定
   - 「Save」をクリック

### 「タスク移動」Choiceの設定
1. 同様に「Add Choice」をクリック
2. 以下の設定を行う：
   - **Name**: 「タスク移動」
   - **Type**: 「Macro」を選択
   - **Macro**: 「タスク移動」を選択
   - **Hotkey** (任意): 使用したいキーボードショートカットを設定
   - 「Save」をクリック

## 3. 使用方法

### コマンドパレットから実行
1. `Ctrl+P` (Windows) または `Cmd+P` (Mac) でコマンドパレットを開く
2. 「QuickAdd: タスク追加」または「QuickAdd: タスク移動」を検索
3. 選択して実行

### ホットキーから実行（設定した場合）
設定したホットキーを押すと、直接Macroが実行されます

## 4. 動作確認

### タスク追加のテスト
1. 「QuickAdd: タスク追加」を実行
2. タスク名を入力（例：「テストタスク」）
3. 所要時間を選択（例：「60分」）
4. ジャンルを選択（例：「デスクワーク」）
5. 日付を入力（デフォルト：今日）
6. 容量チェックが実行されることを確認
7. スケジュールファイルにタスクが追加されることを確認

### 容量チェックのテスト
1. 今日のスケジュールに既にタスクがある場合、容量チェックが表示されることを確認
2. 容量超過時に警告が表示されることを確認

## 5. トラブルシューティング

### Macroが動作しない場合
- QuickAddが有効になっているか確認
- Macroコードに構文エラーがないか確認（Obsidianのコンソール: `Ctrl+Shift+I`）
- ファイルパスが正しいか確認

### 容量チェックが正しく動作しない場合
- スケジュールファイルのタスクが `⏱️ 60` 形式になっているか確認
- ファイルパスが正しいか確認

## 次のステップ

Phase 2が完了したら、Phase 3（繰り返しタスク）に進みます。

